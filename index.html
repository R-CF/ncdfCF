<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Easy Access to NetCDF Files with CF Metadata Conventions • ncdfCF</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Easy Access to NetCDF Files with CF Metadata Conventions">
<meta name="description" content="Network Common Data Form (netCDF) files are widely used for scientific data. Library-level access in R is provided through packages RNetCDF and ncdf4. Package ncdfCF is built on top of RNetCDF and makes the data and its attributes available as a set of R6 classes that are informed by the Climate and Forecasting Metadata Conventions. Access to the data uses standard R subsetting operators and common function forms.">
<meta property="og:description" content="Network Common Data Form (netCDF) files are widely used for scientific data. Library-level access in R is provided through packages RNetCDF and ncdf4. Package ncdfCF is built on top of RNetCDF and makes the data and its attributes available as a set of R6 classes that are informed by the Climate and Forecasting Metadata Conventions. Access to the data uses standard R subsetting operators and common function forms.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ncdfCF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/ncdfCF.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/31_Creating.html">1. Creating new data sets and variables</a></li>
    <li><a class="dropdown-item" href="articles/32_R-CF.html">2. R and CF Metadata Conventions</a></li>
    <li><a class="dropdown-item" href="articles/33_Troubleshooting.html">3. Troubleshooting</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-CF/ncdfCF/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ncdfcf">ncdfCF<a class="anchor" aria-label="anchor" href="#ncdfcf"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>ncdfCF</code> package provides an easy to use interface to netCDF resources in R, either in local files or remotely on a THREDDS server. It is built on the <code>RNetCDF</code> package which, like package <code>ncdf4</code>, provides a basic interface to the <code>netcdf</code> library, but which lacks an intuitive user interface. Package <code>ncdfCF</code> provides a high-level interface using functions and methods that are familiar to the R user. It reads the structural metadata and also the attributes upon opening the resource. In the process, the <code>ncdfCF</code> package also applies CF Metadata Conventions to interpret the data.</p>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>Opening and inspecting the contents of a netCDF resource is very straightforward:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/R-CF/ncdfCF" class="external-link">ncdfCF</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get any netCDF file</span></span>
<span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ERA5land_Rwanda_20160101.nc"</span>, package <span class="op">=</span> <span class="st">"ncdfCF"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Open the file, all metadata is read</span></span>
<span><span class="op">(</span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/open_ncdf.html">open_ncdf</a></span><span class="op">(</span><span class="va">fn</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Dataset&gt; ERA5land_Rwanda_20160101 </span></span>
<span><span class="co">#&gt; Resource   : /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library/ncdfCF/extdata/ERA5land_Rwanda_20160101.nc </span></span>
<span><span class="co">#&gt; Format     : offset64 </span></span>
<span><span class="co">#&gt; Collection : Generic netCDF data </span></span>
<span><span class="co">#&gt; Conventions: CF-1.6 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variables:</span></span>
<span><span class="co">#&gt;  name long_name             units data_type axes                     </span></span>
<span><span class="co">#&gt;  t2m  2 metre temperature   K     NC_DOUBLE longitude, latitude, time</span></span>
<span><span class="co">#&gt;  pev  Potential evaporation m     NC_DOUBLE longitude, latitude, time</span></span>
<span><span class="co">#&gt;  tp   Total precipitation   m     NC_DOUBLE longitude, latitude, time</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attributes:</span></span>
<span><span class="co">#&gt;  name        type    length value                             </span></span>
<span><span class="co">#&gt;  Conventions NC_CHAR  6     CF-1.6                            </span></span>
<span><span class="co">#&gt;  history     NC_CHAR 34     Attributes simplified for example.</span></span></code></pre></div>
<p>You can convert a suitable R object into a <code>CFVariable</code> instance quite easily. R objects that are supported include arrays, matrices and vectors of type logical, integer, numeric or logical.</p>
<p>If the R object has <code>dimnames</code> set, these will be used to create more informed axes. More interestingly, if your array represents some spatial data you can give your <code>dimnames</code> appropriate names (“lat”, “lon”, “latitude”, “longitude”, case-insensitive) and the corresponding axis will be created (if the coordinate values in the <code>dimnames</code> are within the domain of the axis type). For “time” coordinates, these are automatically detected irrespective of the name.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note the use of named dimnames: these will become the names of the axes</span></span>
<span><span class="va">arr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">120</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/dimnames.html">dimnames</a></span><span class="op">(</span><span class="va">arr</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">44</span>, <span class="fl">43</span>, <span class="fl">42</span>, <span class="fl">41</span>, <span class="fl">40</span><span class="op">)</span>, lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, </span>
<span>                      time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2025-07-01"</span>, <span class="st">"2025-07-02"</span>, <span class="st">"2025-07-03"</span>, <span class="st">"2025-07-04"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/as_CF.html">as_CF</a></span><span class="op">(</span><span class="st">"a_new_CF_object"</span>, <span class="va">arr</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Variable&gt; a_new_CF_object </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Values: [-2.59647 ... 2.487776] </span></span>
<span><span class="co">#&gt;     NA: 0 (0.0%)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Axes:</span></span>
<span><span class="co">#&gt;  axis name length values                      unit                          </span></span>
<span><span class="co">#&gt;  Y    lat  6      [45 ... 40]                 degrees_north                 </span></span>
<span><span class="co">#&gt;  X    lon  5      [0 ... 4]                   degrees_east                  </span></span>
<span><span class="co">#&gt;  T    time 4      [2025-07-01 ... 2025-07-04] days since 1970-01-01T00:00:00</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attributes:</span></span>
<span><span class="co">#&gt;  name         type      length value             </span></span>
<span><span class="co">#&gt;  actual_range NC_DOUBLE 2      -2.59647, 2.487776</span></span>
<span></span>
<span><span class="co"># Axes are of a specific type and have basic attributes set</span></span>
<span><span class="va">obj</span><span class="op">$</span><span class="va">axes</span><span class="op">[[</span><span class="st">"lat"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; &lt;Latitude axis&gt; [-2] lat</span></span>
<span><span class="co">#&gt; Length     : 6</span></span>
<span><span class="co">#&gt; Axis       : Y </span></span>
<span><span class="co">#&gt; Coordinates: 45, 44, 43, 42, 41, 40 (degrees_north)</span></span>
<span><span class="co">#&gt; Bounds     : (not set)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attributes:</span></span>
<span><span class="co">#&gt;  name          type      length value        </span></span>
<span><span class="co">#&gt;  actual_range  NC_DOUBLE  2     40, 45       </span></span>
<span><span class="co">#&gt;  axis          NC_CHAR    1     Y            </span></span>
<span><span class="co">#&gt;  standard_name NC_CHAR    8     latitude     </span></span>
<span><span class="co">#&gt;  units         NC_CHAR   13     degrees_north</span></span>
<span></span>
<span><span class="va">obj</span><span class="op">$</span><span class="va">axes</span><span class="op">[[</span><span class="st">"time"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; &lt;Time axis&gt; [-4] time</span></span>
<span><span class="co">#&gt; Length     : 4</span></span>
<span><span class="co">#&gt; Axis       : T </span></span>
<span><span class="co">#&gt; Calendar   : standard </span></span>
<span><span class="co">#&gt; Range      : 2025-07-01 ... 2025-07-04 (days) </span></span>
<span><span class="co">#&gt; Bounds     : (not set) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attributes:</span></span>
<span><span class="co">#&gt;  name          type      length value                         </span></span>
<span><span class="co">#&gt;  actual_range  NC_DOUBLE  2     20270, 20273                  </span></span>
<span><span class="co">#&gt;  axis          NC_CHAR    1     T                             </span></span>
<span><span class="co">#&gt;  standard_name NC_CHAR    4     time                          </span></span>
<span><span class="co">#&gt;  units         NC_CHAR   30     days since 1970-01-01T00:00:00</span></span>
<span><span class="co">#&gt;  calendar      NC_CHAR    8     standard</span></span></code></pre></div>
<p>You can further modify the resulting <code>CFVariable</code> by setting other properties, such as attributes or a coordinate reference system. Once the object is complete, you can export or save it.</p>
<p>More detailed operations and options are given on the <a href="https://r-cf.github.io/ncdfCF/">package web site</a>.</p>
</div>
<div class="section level2">
<h2 id="development-plan">Development plan<a class="anchor" aria-label="anchor" href="#development-plan"></a>
</h2>
<p>Package <code>ncdfCF</code> is still being developed. It supports reading of all data objects from netCDF resources in “classic” and “netcdf4” formats; and can write data variables back to a netCDF file. From the CF Metadata Conventions it supports identification of axes, interpretation of the “time” axis, name resolution when using groups, cell boundary information, auxiliary coordinate variables, labels, cell measures, attributes and grid mapping information, among others.</p>
<p>Development plans for the near future focus on supporting the below features:</p>
<div class="section level5">
<h5 id="netcdf">netCDF<a class="anchor" aria-label="anchor" href="#netcdf"></a>
</h5>
<ul>
<li>Writing data to an unlimited dimension of a data variable.</li>
</ul>
</div>
<div class="section level5">
<h5 id="cf-metadata-conventions">CF Metadata Conventions<a class="anchor" aria-label="anchor" href="#cf-metadata-conventions"></a>
</h5>
<ul>
<li>Cell methods.</li>
<li>Aggregation.</li>
<li>Support for discrete sampling geometries.</li>
<li>Compliance with CMIP5 / CMIP6 requirements.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Package <code>ncdfCF</code> is still being developed. While extensively tested on multiple well-structured data sets, errors may still occur, particularly in data sets that do not adhere to the CF Metadata Conventions. The API may still change and although care is taken not to make breaking changes, sometimes this is unavoidable.</p>
<p>Installation from CRAN of the latest release:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ncdfCF"</span>)</span></code></pre></div>
<p>You can install the development version of <code>ncdfCF</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"R-CF/ncdfCF"</span>)</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ncdfCF" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/R-CF/ncdfCF/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/R-CF/ncdfCF/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ncdfCF</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Patrick Van Laake <br><small class="roles"> Author, maintainer, copyright holder </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/Lifecycle-Experimental-green.svg" alt="Lifecycle: Experimental"></a></li>
<li><a href="https://cran.r-project.org/package=ncdfCF" class="external-link"><img src="https://www.r-pkg.org/badges/version/ncdfCF" alt="CRAN Status"></a></li>
<li><a href="https://cran.r-project.org/package=ncdfCF" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/ncdfCF" alt="CRAN Downloads"></a></li>
<li><a href="https://mit-license.org" class="external-link"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://github.com/R-CF/ncdfCF/commits/main" class="external-link"><img src="https://img.shields.io/github/last-commit/R-CF/ncdfCF" alt="Last commit"></a></li>
<li><a href="https://github.com/R-CF/ncdfCF/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/R-CF/ncdfCF/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patrick Van Laake.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
