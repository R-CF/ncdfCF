<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract data for a variable — [.CFVariable • ncdfCF</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract data for a variable — [.CFVariable"><meta name="description" content="Extract data from a CFVariable instance, optionally sub-setting the
axes to load only data of interest."><meta property="og:description" content="Extract data from a CFVariable instance, optionally sub-setting the
axes to load only data of interest."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ncdfCF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ncdfCF.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/31_Creating.html">1. Creating new data sets and variables</a></li>
    <li><a class="dropdown-item" href="../articles/32_R-CF.html">2. R and CF Metadata Conventions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-CF/ncdfCF/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract data for a variable</h1>
      <small class="dont-index">Source: <a href="https://github.com/R-CF/ncdfCF/blob/main/R/CFVariable.R" class="external-link"><code>R/CFVariable.R</code></a></small>
      <div class="d-none name"><code>sub-.CFVariable.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract data from a <code>CFVariable</code> instance, optionally sub-setting the
axes to load only data of interest.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'CFVariable'</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">...</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code>CFVariable</code> instance to extract the data of.</p></dd>


<dt id="arg-i-j-">i, j, ...<a class="anchor" aria-label="anchor" href="#arg-i-j-"></a></dt>
<dd><p>Expressions, one for each axis of <code>x</code>, that select a
number of elements along each axis. If any expressions are missing,
the entire axis is extracted. The values for the arguments may be an
integer vector or a function that returns an integer vector. The range of
the values in the vector will be used. See examples, below.</p></dd>


<dt id="arg-drop">drop<a class="anchor" aria-label="anchor" href="#arg-drop"></a></dt>
<dd><p>Logical, ignored. Axes are never dropped. Any degenerate
dimensions of the array are returned as such, with dimnames and appropriate
attributes set.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An array with dimnames and other attributes set.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If all the data of the variable in <code>x</code> is to be extracted, simply use <code>[]</code>
(unlike with regular arrays, this is required, otherwise the details of the
variable are printed on the console).</p>
<p>The indices into the axes to be subset can be specified in a variety of
ways; in practice it should (resolve to) be a vector of integers. A range
(e.g. <code>100:200</code>), an explicit vector (<code>c(23, 46, 3, 45, 17</code>), a sequence
(<code>seq(from = 78, to = 100, by = 2</code>), all work. Note, however, that only a
single range is generated from the vector so these examples resolve to
<code>100:200</code>, <code>3:46</code>, and <code>78:100</code>, respectively. It is also possible to use a
custom function as an argument.</p>
<p>This method works with "bare" indices into the axes of the array. If
you want to use domain values of the axes (e.g. longitude values or
timestamps) to extract part of the variable array, use the
<code>CFVariable$subset()</code> method.</p>
<p>Scalar axes should not be included in the indexing as they do not represent a
dimension into the data array.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"pr_day_EC-Earth3-CC_ssp245_r1i1p1f1_gr_20230101-20231231_vncdfCF.nc"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"ncdfCF"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="open_ncdf.html">open_ncdf</a></span><span class="op">(</span><span class="va">fn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="va">ds</span><span class="op">[[</span><span class="st">"pr"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># How are the dimensions organized?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dimnames.html">dimnames</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "lon"  "lat"  "time"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Precipitation data for March for a single location</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">pr</span><span class="op">[</span><span class="fl">5</span>, <span class="fl">12</span>, <span class="fl">61</span><span class="op">:</span><span class="fl">91</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  num [1, 1, 1:31] 2.17e-05 2.68e-06 1.04e-04 8.62e-05 7.09e-05 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "dimnames")=List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ lon : chr "8.4375"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ lat : chr "48.07005"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ time: chr [1:31] "2023-03-02T12:00:00" "2023-03-03T12:00:00" "2023-03-04T12:00:00" "2023-03-05T12:00:00" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "axis")= Named chr [1:3] "X" "Y" "T"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "names")= chr [1:3] "lon" "lat" "time"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "time")=List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ time:CFTime with origin [days since 1850-01-01] using calendar [proleptic_gregorian] having 31 offset values</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Summer precipitation over the full spatial extent</span></span></span>
<span class="r-in"><span><span class="va">summer</span> <span class="op">&lt;-</span> <span class="va">pr</span><span class="op">[</span>, , <span class="fl">173</span><span class="op">:</span><span class="fl">263</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">summer</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  num [1:14, 1:14, 1:91] -2.21e-25 -2.21e-25 -2.21e-25 -2.21e-25 -2.21e-25 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "dimnames")=List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ lon : chr [1:14] "5.625" "6.328125" "7.03125" "7.734375" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ lat : chr [1:14] "40.35078" "41.05254" "41.75429" "42.45604" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ time: chr [1:91] "2023-06-22T12:00:00" "2023-06-23T12:00:00" "2023-06-24T12:00:00" "2023-06-25T12:00:00" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "axis")= Named chr [1:3] "X" "Y" "T"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "names")= chr [1:3] "lon" "lat" "time"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "time")=List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ time:CFTime with origin [days since 1850-01-01] using calendar [proleptic_gregorian] having 91 offset values</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patrick Van Laake.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

